apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
  namespace: homepage
data:
  settings.yaml: |
    title: Homelab Dashboard
    favicon: https://gethomepage.dev/assets/favicon.ico
    theme: dark
    color: slate
    headerStyle: boxedWidgets
    useEqualHeights: true
    showStats: true
    layout:
      Management:
        style: row
        columns: 2
      Monitoring:
        style: row
        columns: 3
      DNS:
        style: row
        columns: 3
      Smart Home:
        style: row
        columns: 2
      Applications - Extern:
        style: row
        columns: 3
      Infrastructure:
        style: row
        columns: 2
      Applications - Intern:
        style: row
        columns: 2
    providers:
      longhorn:
        url: http://longhorn-frontend.longhorn-system

  services.yaml: |
    # Services die manuell konfiguriert werden m√ºssen, da nicht in Kubernetes gehostet
    
    - Infrastructure:
      - Proxmox:
          href: https://pve.elmstreet79.de
          description: Virtualization Host
          icon: proxmox.png
          weight: 10
          widget:
            type: proxmox
            url: https://pve.elmstreet79.de
            username: {{HOMEPAGE_VAR_PROXMOX_USER}}
            password: {{HOMEPAGE_VAR_PROXMOX_PASS}}

      - UniFi Controller:
          href: https://unifi.elmstreet79.de
          description: UniFi Router
          icon: ubiquiti.png
          weight: 20
          ping: 192.168.2.1
          widget:
            type: unifi_controller
            url: https://unifi.elmstreet79.de
            username: {{HOMEPAGE_VAR_UNIFI_USER}}
            password: {{HOMEPAGE_VAR_UNIFI_PASS}}

      - Container (Pi5):
          href: https://portainer.elmstreet79.de
          description: Portainer Docker Pi5
          icon: docker.png
          weight: 30
          widget:
            type: portainer
            url: https://portainer.elmstreet79.de
            env: 2
            key: {{HOMEPAGE_VAR_PORTAINER_TOKEN}}

      - Container (Pi4):
          href: https://portainer.elmstreet79.de
          description: Portainer Docker Pi4
          icon: docker.png
          weight: 40
          widget:
            type: portainer
            url: https://portainer.elmstreet79.de
            env: 4
            key: {{HOMEPAGE_VAR_PORTAINER_TOKEN}}

      - Mac Mini:
          description: Mac Mini Server
          icon: apple.png
          weight: 70
          ping: 192.168.2.4
          widget:
            type: glances
            url: https://glances-macmini.elmstreet79.de
            metric: memory
            version: 4

    - Applications - Extern:
      - Teslalogger Grafana:
          icon: grafana.png
          description: Tesla Data Logger Dashboard
          href: https://teslalogger.elmstreet79.de
          weight: 20

      - Dreambox:
          href: https://dreambox.elmstreet79.de
          description: Dreambox Receiver
          icon: mdi-television-box
          weight: 30
          ping: 192.168.2.11

    - Applications - Intern:
      - Teslalogger Web:
          icon: https://teslalogger-web.elmstreet79.de/admin/logo.jpg
          description: Tesla Data Logger Web
          href: https://teslalogger-web.elmstreet79.de/admin
          weight: 10

    - DNS:
      - AdGuard Home (Mac Mini):
          href: https://adguard-macmini.elmstreet79.de
          description: AdGuard DNS
          icon: adguard-home.png
          weight: 20
          ping: 192.168.2.4
          widget:
            type: adguard
            url: https://adguard-macmini.elmstreet79.de
            username: {{HOMEPAGE_VAR_ADGUARD_USER}}
            password: {{HOMEPAGE_VAR_ADGUARD_PASS}}


  bookmarks.yaml: |
    - Developer:
      - GitHub:
          - icon: github-light.png
            href: https://github.com/Nebu2k/kubernetes-homelab
      - LinkedIn:
          - icon: linkedin.png
            href: https://www.linkedin.com/in/nebu2k/
      - Website:
          - icon: mdi-web
            href: https://seb-it.com

  widgets.yaml: |
    - kubernetes:
        cluster:
          show: true
          cpu: true
          memory: true
          showLabel: true
          label: "K3s Cluster"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true

    - longhorn:
        expanded: true
        total: true
        labels: true
        nodes: true

    - grafana:unifi_console:
        url: https://unifi.elmstreet79.de
        username: {{HOMEPAGE_VAR_UNIFI_USER}}
        password: {{HOMEPAGE_VAR_UNIFI_PASS}}

  kubernetes.yaml: |
    mode: cluster

  docker.yaml: |
    raspi4:
      host: 192.168.2.2
      port: 2375
      
    raspi5:
      host: 192.168.2.9
      port: 2375
