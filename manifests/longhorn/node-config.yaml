---
# Longhorn Node Configuration
# Exclude low-storage nodes from replica scheduling

# Storage-capable nodes
apiVersion: longhorn.io/v1beta2
kind: Node
metadata:
  name: k3s-worker-1
  namespace: longhorn-system
spec:
  name: k3s-worker-1
  tags:
    - storage
  allowScheduling: true
  evictionRequested: false
  disks:
    default-disk-k3s-worker-1:
      allowScheduling: true
      diskType: filesystem
      evictionRequested: false
      path: /var/lib/longhorn/
      tags:
        - storage

---
apiVersion: longhorn.io/v1beta2
kind: Node
metadata:
  name: raspi5
  namespace: longhorn-system
spec:
  name: raspi5
  tags:
    - storage
  allowScheduling: true
  evictionRequested: false
  disks:
    default-disk-raspi5:
      allowScheduling: true
      diskType: filesystem
      evictionRequested: false
      path: /var/lib/longhorn/
      tags:
        - storage

---
# Low-storage nodes (excluded from replica scheduling)
apiVersion: longhorn.io/v1beta2
kind: Node
metadata:
  name: k3s-cp-1
  namespace: longhorn-system
spec:
  name: k3s-cp-1
  tags: []  # No storage tag
  allowScheduling: false  # Disable storage scheduling
  evictionRequested: false

---
apiVersion: longhorn.io/v1beta2
kind: Node
metadata:
  name: prodesk
  namespace: longhorn-system
spec:
  name: prodesk
  tags: []  # No storage tag
  allowScheduling: false  # Disable storage scheduling
  evictionRequested: false

---
apiVersion: longhorn.io/v1beta2
kind: Node
metadata:
  name: raspi4
  namespace: longhorn-system
spec:
  name: raspi4
  tags: []  # No storage tag
  allowScheduling: false  # Disable storage scheduling
  evictionRequested: false
