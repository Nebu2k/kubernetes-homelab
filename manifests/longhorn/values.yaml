# Longhorn distributed storage values
persistence:
  defaultClass: true
  defaultClassReplicaCount: 3
  defaultNodeSelector:
    enable: true
    selector: "storage"
  recurringJobSelector:
    enable: true
    jobList: '[{"name":"backup-daily","isGroup":false},{"name":"backup-weekly","isGroup":false},{"name":"snapshot-cleanup-daily","isGroup":false}]'

# Default backup store configuration  
defaultBackupStore:
  backupTarget: "s3://homelab-longhorn-elmstreet79@eu-central-1/"
  backupTargetCredentialSecret: "longhorn-s3-secret"

# Default settings
defaultSettings:
  defaultReplicaCount: "3"
  # RWX (ReadWriteMany) Support via NFS
  rwxVolumeFastFailover: "true"
  # Automatic replica rebalancing across nodes
  replicaAutoBalance: "best-effort"
  # Limit concurrent replica rebuilds per node to prevent overload (especially on Raspberry Pis)
  concurrentReplicaRebuildPerNodeLimit: "2"

# Disable preUpgrade hook (causes issues with ArgoCD)
preUpgradeChecker:
  jobEnabled: false
