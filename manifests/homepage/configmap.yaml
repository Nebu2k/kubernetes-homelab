apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
  namespace: homepage
data:
  settings.yaml: |
    title: Homelab Dashboard
    favicon: https://gethomepage.dev/assets/favicon.ico
    theme: dark
    color: slate
    headerStyle: boxedWidgets
    useEqualHeights: true
    showStats: true
    layout:
      Management:
        style: row
        columns: 2
      Monitoring:
        style: row
        columns: 3
      Smart Home:
        style: row
        columns: 2
      Automation:
        style: row
        columns: 2
      Media:
        style: row
        columns: 2
      Applications:
        style: row
        columns: 2
      Infrastructure:
        style: row
        columns: 3
    providers:
      longhorn:
        url: http://longhorn-frontend.longhorn-system.svc.cluster.local

  services.yaml: |
    # Services die manuell konfiguriert werden m√ºssen, da nicht in Kubernetes gehostet
    
    - Management:
      - Container (Pi5):
          href: https://portainer.elmstreet79.de
          description: Portainer Docker Pi5
          icon: docker.png
          weight: 30
          widget:
            type: portainer
            url: https://portainer.elmstreet79.de
            env: 2
            key: {{HOMEPAGE_VAR_PORTAINER_TOKEN}}

      - Container (Pi4):
          href: https://portainer.elmstreet79.de
          description: Portainer Docker Pi4
          icon: docker.png
          weight: 40
          widget:
            type: portainer
            url: https://portainer.elmstreet79.de
            env: 4
            key: {{HOMEPAGE_VAR_PORTAINER_TOKEN}}
    
      - AWS Console:
          href: https://d-99675baf99.awsapps.com/start/#/console?account_id=077448369105&role_name=AdministratorAccess
          description: AWS Account
          icon: aws.png
          weight: 20

    - Infrastructure:
      - Proxmox:
          href: https://pve.elmstreet79.de
          description: Virtualization Host
          icon: proxmox.png
          weight: 10
          widget:
            type: proxmox
            url: https://pve.elmstreet79.de
            username: {{HOMEPAGE_VAR_PROXMOX_USER}}
            password: {{HOMEPAGE_VAR_PROXMOX_PASS}}

      - UniFi Controller:
          href: https://unifi.elmstreet79.de
          description: UniFi Router
          icon: ubiquiti.png
          weight: 20
          ping: 192.168.2.1
          widget:
            type: unifi
            url: https://unifi.elmstreet79.de
            username: {{HOMEPAGE_VAR_UNIFI_USER}}
            password: {{HOMEPAGE_VAR_UNIFI_PASS}}

      - Mac Mini:
          description: Mac Mini Server
          icon: apple.png
          weight: 30
          ping: 192.168.2.4
          widget:
            type: glances
            url: https://glances-macmini.elmstreet79.de
            metric: memory
            version: 4

      - AdGuard Home (Mac Mini):
          href: https://adguard-macmini.elmstreet79.de
          description: AdGuard DNS
          icon: adguard-home.png
          weight: 41
          ping: 192.168.2.4
          widget:
            type: adguard
            url: https://adguard-macmini.elmstreet79.de
            username: {{HOMEPAGE_VAR_ADGUARD_USER}}
            password: {{HOMEPAGE_VAR_ADGUARD_PASS}}

      - Traefik Dashboard:
          href: https://traefik.elmstreet79.de
          description: Reverse Proxy & Load Balancer
          icon: traefik.png
          weight: 70
          widget:
            type: kubernetes
            namespace: traefik
            app: traefik
            podSelector: app.kubernetes.io/name=traefik

    - Media:

      - Plex:
          href: https://plex.elmstreet79.de
          description: Media Server
          icon: plex.png
          weight: 10
          ping: 192.168.2.4

      - Nextcloud:
          href: https://nextcloud.elmstreet79.de
          description: Cloud Storage & Collaboration
          icon: nextcloud.png
          weight: 20
          ping: 192.168.2.12

    - Applications:

      - Dreambox:
          href: https://dreambox.elmstreet79.de
          description: Dreambox Receiver
          icon: mdi-television-box
          weight: 30
          ping: 192.168.2.11

  bookmarks.yaml: |
    - Developer:
      - GitHub:
          - icon: github-light.png
            href: https://github.com/Nebu2k/kubernetes-homelab
      - LinkedIn:
          - icon: linkedin.png
            href: https://www.linkedin.com/in/nebu2k/
      - Website:
          - icon: mdi-web
            href: https://seb-it.com

  widgets.yaml: |
    - kubernetes:
        cluster:
          show: true
          cpu: true
          memory: true
          showLabel: true
          label: "K3s Cluster"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true

    - longhorn:
        expanded: true
        total: true
        labels: true
        nodes: true

    - unifi_console:
        url: https://unifi.elmstreet79.de
        username: {{HOMEPAGE_VAR_UNIFI_USER}}
        password: {{HOMEPAGE_VAR_UNIFI_PASS}}

  kubernetes.yaml: |
    mode: cluster

  docker.yaml: |
    raspi4:
      host: 192.168.2.2
      port: 2375
      
    raspi5:
      host: 192.168.2.9
      port: 2375
